# Learning_Perl
# 子程序

## 4.1 子程序简介
子程序的定义和用法基本都和C、python差不多，就在调用的时候用的符号是&，只是在返回值这一块有点问题，perl中所有的子程序都有一个返回值，
那既然都有返回值，所以子程序执行过程中最后一次运算过程的结果，不管什么都会被当成返回值，如下
```perl
sub sum_fred_barney{
	print 1;
	$fred + $barney; # 这就是返回值
}

$fred = 3;
$barney = 4;

$result = &sum_fred_barney;
```
最后执行的表达式真的就是最后执行的表达式，而非子程序的最后一个语句，比如说下面这个子程序，就会返回较大值
```perl
sub sum_larger_fred_barney{
	if ($fred > $barney){
		$fred;
	}else{
		$barney;
	}
}
```

## 4.2 子程序中的私有变量和参数
参数传入列表的时候，perl会自动将参数列表存储在名为@_的特殊数组变量中，该变量仅仅在子程序执行期间有效，如果用默认变量的话，q	1q	q2	12
这表示子程序的第一个参数存储于$_[0]，第二个参数存储于$_[1]，以此类推，这里面的@_是作为私有变量的  

加入已经有了全局变量@_，则该变量在子程序调用前会先被存起来，并且在子程序返回时恢复原本的值。
```perl
sub max{
	if ($_[0] > $_[1]){
		$_[0];
	}else {
		$_[1];
	}
}
```

可以通过my()函数创建私有变量并且赋值

几乎所有的子程序都会以类似的程序代码作为开头
```perl
sub max {
	my($m, $n);
	($m, $n) =@_;
	if($m > $N) {$m} else {$n}
}
```

并且常常会用以下语句将前两行给合并起来
```perl
sub max {
	my($m, $n) = @_;
}

```

## 4.3 用my声明的词法变量
```perl
foreach (1..10) {
	my($a) = $_ * $_;
	print "$_ squared is $a.\n"
}
```
像这里就声明了一个只在循环内部生效的“私有变量”，$a，并且注意定义循环时候的格式，一定要学会括号的用法，
```perl
my $a, $b 	# 只定义了$a
my ($a, $b) # 定义了两个
```

## 4.4 use strict编译指令
简单点说，就是让代码写的更加的规范，便于整理等等，如果识别出变量名用错的话也可以提醒
用法是在代码最前端加上***use strict***

## 4.5 省略&
简单点说，加入Perl从语法上就可以看出这个是调用的函数（比如说参数放进了括号里面，或者之前就这样调用过了已经），
那就没有问题
```perl
my @cards = shuffle(@deck_of_cards); # &shuffle上的&就是多余的
```


## 4.6 持久化私有变量
在子程序中使用my操作符可以创建私有变量，但是每次调用子程序时，这个私有变量都会被重新定义，
用state操作符声明的变量可以在子程序的多次调用期间保留之前的值，例如如下函数：
```perl
use v5.10;

sub marine {
	state $b = 0;
	$n += 1;
	print "$n";
}
```
在这个函数中，就把$n作为持久化的私有变量

## 4.7 习题
